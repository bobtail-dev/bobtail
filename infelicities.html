<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="styles/9981d504.main.css" media="screen">
    <title>Infelicities - bobtail</title>
  </head>
  <body>
    <header>
      <div class="overlay"></div>
      <div class="inner">
        <h1 class="smaller-title"><a href="/reactive-coffee/">bobtail</a></h1>
        <nav class="top-nav">
          <div class="inner-inner"><a href="quickstart.html">Documentation</a><a href="support.html">Community/Support</a><a href="design.html">Rationale</a><a href="dev-setup.html">Development</a></div>
        </nav>
      </div>
    </header>
    <div id="content-wrapper">
      <div class="inner clearfix">
        <nav class="side-nav">
          <ul>
            <li><a href="dev-setup.html">Dev Setup</a></li>
            <li><a href="infelicities.html" class="current">Infelicities</a><ul class="toc"><li><a href="#alternative-syntax-support">Alternative Syntax Support</a></li><li><a href="#structural-attribute-bindings">Structural Attribute Bindings</a></li><li><a href="#topologically-ordered-visits">Topologically Ordered Visits</a></li><li><a href="#lazy-event-notification">Lazy Event Notification</a></li><li><a href="#transitions">Transitions</a></li><li><a href="#dag-debugger">DAG Debugger</a></li><li><a href="#tests">Tests</a></li></ul></li>
            <li><a href="ideas.html">Ideas</a></li>
            <li><a href="https://github.com/inferinc/bobtail">GitHub</a></li>
          </ul>
        </nav>
        <section id="main-content"><h1 id="infelicities">Infelicities</h1>
<p>There are a number of areas for improvement, including but not
limited to the following:</p>
<h2 id="alternative-syntax-support"><a name="alternative-syntax-support">Alternative Syntax Support</a></h2>
<p>Although there should be a single encouraged syntax so as to facilitate
communication among developers, we realize that the syntax has yet to learn
from broader exposure to real-world use cases and user (developer)
feedback, and to that end we want to encourage some degree of
exploration/experimentation.  We also want to provide the basic
infrastructure to make writing alternative syntaxes easy (if we can&#39;t stop
you, we might as well make it clean to &quot;fork&quot;).</p>
<h2 id="structural-attribute-bindings"><a name="structural-attribute-bindings">Structural Attribute Bindings</a></h2>
<p>Currently, attributes are strings.  For most attributes this is fine, but for
certain attributes such as <code>style</code>, we could have a simple convenience
preprocessor that takes in an object map of the style names and renders the
string.  This could be extended to lists for <code>class</code> and so on.</p>
<h2 id="topologically-ordered-visits"><a name="topologically-ordered-visits">Topologically Ordered Visits</a></h2>
<p>If we consider the DAG of dependencies among observable nodes, when there&#39;s an
event being propagated through the system, the notifications currently visit
nodes in depth-first order.  However, the most efficient order in which to
propagate changes is by processing the events of the nodes in topologically
sorted order.  For instance, consider the following DAG:</p>
<pre><code>A -&gt; B
A -&gt; C
B -&gt; D
C -&gt; D
D -&gt; E</code></pre>
<p><img src="images/9df74959.cell-dag.png" alt="DAG"></p>
<p>If <code>A</code> is updated, then we&#39;d currently perform a recursive descent starting at
<code>A</code> and visit the nodes in this order:</p>
<pre><code>A, B, D, E, C, D, E</code></pre>
<p>However, if we kept track of the DAG, then we could process the nodes in
topologically sorted order:</p>
<pre><code>A, B, C, D, E</code></pre>
<p>This guarantees avoiding multiple visits to the same node.</p>
<h2 id="lazy-event-notification"><a name="lazy-event-notification">Lazy Event Notification</a></h2>
<p>More flexible-but-still-efficient array (and other data structure) mutations.
Currently arrays have built-in mechanisms for efficient propagation of events
such as insertion, removal, splicing, etc.  However, for more involved
transformations, or if we want to reuse existing array transformation code, we
can still do better than re-evaluating all dependents downstream by figuring
out what has changed, and then propagating the diff&#39;s or operations (such as
reorderings) for more efficient downstream handling.</p>
<p>This can be extended to arbitrary object types/data structures beyond arrays
and should be configurable, with the ability to substitute in various change
detection or diffing algorithms.</p>
<h2 id="transitions"><a name="transitions">Transitions</a></h2>
<p>Ability to apply animations and effects to things like entrances, exits, and
reorderings.  See the <a href="https://github.com/mbostock/d3/wiki/Transitions">d3 transitions API</a> for something I&#39;m keen on borrowing
from.</p>
<h2 id="dag-debugger"><a name="dag-debugger">DAG Debugger</a></h2>
<p>A facility to visualize the DAG of dependencies would make code debugging
and understanding easier.</p>
<h2 id="tests"><a name="tests">Tests</a></h2>
<p>And examples.  Need more tests and examples.  &#39;Nuff said.</p>

        </section>
      </div>
    </div><!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-41900480-1', 'yang.github.io');
      ga('send', 'pageview');
    </script>
    <footer>
      <div class="inner"><p>Copyright 2017 Bobtail/Reactive Coffee Authors.<br>Code licensed under <a href="https://github.com/inferinc/bobtail/blob/master/LICENSE">MIT License</a>.  Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.<br>Website design based on Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>

      </div>
    </footer>
  </body>
</html>
