(function(){var a,b=[].slice,c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a=function(a,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb=this;if(V={},M=0,L=function(){return M+=1},P=function(a,b){var c;if(!(b in a))throw new Error("object has no key "+b);return c=a[b],delete a[b],c},N=function(a,b,c){var d,e,f,g;for(d=f=0,g=a.length;g>f;d=++f)if(e=a[d],c(e)&&(b-=1)<0)return[e,d];return[null,-1]},F=function(a,b){return N(a,0,b)},J=function(b){var c,d,e,f,g,h;if(null==b&&(b=[]),d=null!=Object.create?Object.create(null):{},a.isArray(b))for(f=0,g=b.length;g>f;f++)h=b[f],c=h[0],e=h[1],d[c]=e;else for(c in b)e=b[c],d[c]=e;return d},$=function(a){var b,c,d,e;for(b=0,d=0,e=a.length;e>d;d++)c=a[d],b+=c;return b},i=V.DepMgr=function(){function a(){this.uid2src={},this.buffering=0,this.buffer=[]}return a.prototype.sub=function(a,b){return this.uid2src[a]=b},a.prototype.unsub=function(a){return P(this.uid2src,a)},a.prototype.transaction=function(a){var b,c,d,e,f;this.buffering+=1;try{c=a()}finally{if(this.buffering-=1,0===this.buffering){for(f=this.buffer,d=0,e=f.length;e>d;d++)(b=f[d])();this.buffer=[]}}return c},a}(),V._depMgr=C=new i,j=V.Ev=function(){function a(a){this.inits=a,this.subs=J()}return a.prototype.sub=function(a){var b,c,d,e,f;if(c=L(),null!=this.inits)for(f=this.inits(),d=0,e=f.length;e>d;d++)b=f[d],a(b);return this.subs[c]=a,C.sub(c,this),c},a.prototype.pub=function(a){var b,c,d,e,f=this;if(C.buffering)return C.buffer.push(function(){return f.pub(a)});d=this.subs,e=[];for(c in d)b=d[c],e.push(b(a));return e},a.prototype.unsub=function(a){return P(this.subs,a),C.unsub(a,this)},a.prototype.scoped=function(a,b){var c;c=this.sub(a);try{return b()}finally{this.unsub(c)}},a}(),V.skipFirst=function(a){var c;return c=!0,function(){var d;return d=1<=arguments.length?b.call(arguments,0):[],c?c=!1:a.apply(null,d)}},v=V.Recorder=function(){function b(){this.stack=[],this.isMutating=!1,this.isIgnoring=!1,this.onMutationWarning=new j}return b.prototype.record=function(b,c){var d,e;this.stack.length>0&&!this.isMutating&&a(this.stack).last().addNestedBind(b),this.stack.push(b),e=this.isMutating,this.isMutating=!1,d=this.isIgnoring,this.isIgnoring=!1;try{return c()}finally{this.isIgnoring=d,this.isMutating=e,this.stack.pop()}},b.prototype.sub=function(b){var c,d;return this.stack.length>0&&!this.isIgnoring?(d=a(this.stack).last(),c=b(d)):void 0},b.prototype.addCleanup=function(b){return this.stack.length>0?a(this.stack).last().addCleanup(b):void 0},b.prototype.mutating=function(a){var b;this.stack.length>0&&(console.warn("Mutation to observable detected during a bind context"),this.onMutationWarning.pub(null)),b=this.isMutating,this.isMutating=!0;try{return a()}finally{this.isMutating=b}},b.prototype.ignoring=function(a){var b;b=this.isIgnoring,this.isIgnoring=!0;try{return a()}finally{this.isIgnoring=b}},b}(),V._recorder=U=new v,V.asyncBind=A=function(a,b){var c;return c=new g(b,a),c.refresh(),c},V.bind=B=function(a){return A(null,function(){return this.done(this.record(a))})},V.lagBind=H=function(a,b,c){var d;return d=null,A(b,function(){var b=this;return null!=d&&clearTimeout(d),d=setTimeout(function(){return b.done(b.record(c))},a)})},V.postLagBind=Q=function(a,b){var c;return c=null,A(a,function(){var a,d,e,f=this;return e=this.record(b),d=e.val,a=e.ms,null!=c&&clearTimeout(c),c=setTimeout(function(){return f.done(d)},a)})},V.snap=function(a){return U.ignoring(a)},V.onDispose=function(a){return U.addCleanup(a)},V.autoSub=function(a,b){var c;return c=a.sub(b),V.onDispose(function(){return a.unsub(c)}),c},r=V.ObsCell=function(){function a(a){var b,c=this;this.x=a,this.x=null!=(b=this.x)?b:null,this.onSet=new j(function(){return[[null,c.x]]})}return a.prototype.get=function(){var a=this;return U.sub(function(b){return V.autoSub(a.onSet,function(){return b.refresh()})}),this.x},a}(),x=V.SrcCell=function(a){function b(){return eb=b.__super__.constructor.apply(this,arguments)}return d(b,a),b.prototype.set=function(a){var b=this;return U.mutating(function(){var c;return b.x!==a?(c=b.x,b.x=a,b.onSet.pub([c,a]),c):void 0})},b}(r),g=V.DepCell=function(a){function b(a,c){this.body=a,b.__super__.constructor.call(this,null!=c?c:null),this.refreshing=!1,this.nestedBinds=[],this.cleanups=[]}return d(b,a),b.prototype.refresh=function(){var a,b,c,d,e,f=this;return this.refreshing?void 0:(c=this.x,d=function(a){return f.x=a,f.onSet.pub([c,f.x])},e=null,b=!1,a={record:function(c){var g,h;if(!f.refreshing){if(f.disconnect(),g)throw new Error("this refresh has already recorded its dependencies");f.refreshing=!0,g=!0;try{h=U.record(f,function(){return c.call(a)})}finally{f.refreshing=!1}return b&&d(e),h}},done:function(a){return c!==a?f.refreshing?(b=!0,e=a):d(a):void 0}},this.body.call(a))},b.prototype.disconnect=function(){var a,b,c,d,e,f,g,h;for(g=this.cleanups,c=0,e=g.length;e>c;c++)(a=g[c])();for(h=this.nestedBinds,d=0,f=h.length;f>d;d++)b=h[d],b.disconnect();return this.nestedBinds=[],this.cleanups=[]},b.prototype.addNestedBind=function(a){return this.nestedBinds.push(a)},b.prototype.addCleanup=function(a){return this.cleanups.push(a)},b}(r),q=V.ObsArray=function(){function b(a,b){var c=this;this.xs=null!=a?a:[],this.diff=null!=b?b:V.basicDiff(),this.onChange=new j(function(){return[[0,[],c.xs]]}),this.indexed_=null}return b.prototype.all=function(){var b=this;return U.sub(function(a){return V.autoSub(b.onChange,function(){return a.refresh()})}),a.clone(this.xs)},b.prototype.raw=function(){var a=this;return U.sub(function(b){return V.autoSub(a.onChange,function(){return b.refresh()})}),this.xs},b.prototype.at=function(a){var b=this;return U.sub(function(c){return V.autoSub(b.onChange,function(b){var d,e,f;return e=b[0],f=b[1],d=b[2],e===a?c.refresh():void 0})}),this.xs[a]},b.prototype.length=function(){var a=this;return U.sub(function(b){return V.autoSub(a.onChange,function(a){var c,d,e;return d=a[0],e=a[1],c=a[2],e.length!==c.length?b.refresh():void 0})}),this.xs.length},b.prototype.map=function(a){var b;return b=new p,V.autoSub(this.onChange,function(c){var d,e,f;return e=c[0],f=c[1],d=c[2],b.realSplice(e,f.length,d.map(a))}),b},b.prototype.indexed=function(){var a=this;return null==this.indexed_&&(this.indexed_=new n,V.autoSub(this.onChange,function(b){var c,d,e;return d=b[0],e=b[1],c=b[2],a.indexed_.realSplice(d,e.length,c)})),this.indexed_},b.prototype.concat=function(a){return V.concat(this,a)},b.prototype.realSplice=function(a,b,c){var d;return d=this.xs.splice.apply(this.xs,[a,b].concat(c)),this.onChange.pub([a,d,c])},b.prototype._update=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(null==b&&(b=this.diff),g=this.xs,e=[0,g.length,a],j=null,i=null!=b?null!=(m=O(g.length,a,b(g,a)))?m:[e]:[e],n=[],k=0,l=i.length;l>k;k++)h=i[k],f=h[0],d=h[1],c=h[2],n.push(this.realSplice(f,d,c));return n},b}(),w=V.SrcArray=function(c){function e(){return fb=e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.spliceArray=function(a,b,c){var d=this;return U.mutating(function(){return d.realSplice(a,b,c)})},e.prototype.splice=function(){var a,c,d;return d=arguments[0],c=arguments[1],a=3<=arguments.length?b.call(arguments,2):[],this.spliceArray(d,c,a)},e.prototype.insert=function(a,b){return this.splice(b,0,a)},e.prototype.remove=function(b){var c;return c=a(this.raw()).indexOf(b),c>=0?this.removeAt(c):void 0},e.prototype.removeAt=function(a){return this.splice(a,1)},e.prototype.push=function(a){return this.splice(this.length(),0,a)},e.prototype.put=function(a,b){return this.splice(a,1,b)},e.prototype.replace=function(a){return this.spliceArray(0,this.length(),a)},e.prototype.update=function(a){var b=this;return U.mutating(function(){return b._update(a)})},e}(q),p=V.MappedDepArray=function(a){function b(){return gb=b.__super__.constructor.apply(this,arguments)}return d(b,a),b}(q),n=V.IndexedDepArray=function(c){function e(b,c){var d,f,g=this;null==b&&(b=[]),e.__super__.constructor.call(this,b,c),this.is=function(){var a,b,c,e;for(c=this.xs,e=[],d=a=0,b=c.length;b>a;d=++a)f=c[d],e.push(V.cell(d));return e}.call(this),this.onChange=new j(function(){return[[0,[],a.zip(g.xs,g.is)]]})}return d(e,c),e.prototype.map=function(a){var b;return b=new o,V.autoSub(this.onChange,function(c){var d,e,f,g,h;return g=c[0],h=c[1],e=c[2],b.realSplice(g,h.length,function(){var b,c,g,h;for(h=[],b=0,c=e.length;c>b;b++)g=e[b],d=g[0],f=g[1],h.push(a(d,f));return h}())}),b},e.prototype.realSplice=function(c,d,e){var f,g,h,i,j,k,l,m,n;for(i=(l=this.xs).splice.apply(l,[c,d].concat(b.call(e))),m=this.is.slice(c+d),h=j=0,k=m.length;k>j;h=++j)f=m[h],f.set(c+e.length+h);return g=function(){var a,b,d;for(d=[],f=a=0,b=e.length;b>=0?b>a:a>b;f=b>=0?++a:--a)d.push(V.cell(c+f));return d}(),(n=this.is).splice.apply(n,[c,d].concat(b.call(g))),this.onChange.pub([c,i,a.zip(e,g)])},e}(q),o=V.IndexedMappedDepArray=function(a){function b(){return hb=b.__super__.constructor.apply(this,arguments)}return d(b,a),b}(n),f=V.DepArray=function(a){function b(a,c){var d=this;this.f=a,b.__super__.constructor.call(this,[],c),V.autoSub(B(function(){return d.f()}).onSet,function(a){var b,c;return b=a[0],c=a[1],d._update(c)})}return d(b,a),b}(q),m=V.IndexedArray=function(a){function b(a){this.xs=a}return d(b,a),b.prototype.map=function(a){var b;return b=new p,V.autoSub(this.xs.onChange,function(c){var d,e,f;return e=c[0],f=c[1],d=c[2],b.realSplice(e,f.length,d.map(a))}),b},b}(f),V.concat=function(){var a,c,d,e;return d=1<=arguments.length?b.call(arguments,0):[],e=new p,a=function(){var a,b,e;for(e=[],a=0,b=d.length;b>a;a++)c=d[a],e.push(0);return e}(),d.map(function(b,c){return V.autoSub(b.onChange,function(b){var d,f,g,h;return f=b[0],g=b[1],d=b[2],h=$(a.slice(0,c)),a[c]+=d.length-g.length,e.realSplice(h+f,g.length,d)})}),e},l=V.FakeSrcCell=function(a){function b(a,b){this._getter=a,this._setter=b}return d(b,a),b.prototype.get=function(){return this._getter()},b.prototype.set=function(a){return this._setter(a)},b}(x),k=V.FakeObsCell=function(a){function b(a){this._getter=a}return d(b,a),b.prototype.get=function(){return this._getter()},b}(r),z=V.MapEntryCell=function(a){function b(a,b){this._map=a,this._key=b}return d(b,a),b.prototype.get=function(){return this._map.get(this._key)},b.prototype.set=function(a){return this._map.put(this._key,a)},b}(l),t=V.ObsMapEntryCell=function(a){function b(a,b){this._map=a,this._key=b}return d(b,a),b.prototype.get=function(){return this._map.get(this._key)},b}(k),s=V.ObsMap=function(){function b(a){this.x=null!=a?a:{},this.onAdd=new j(function(){var b,c,d;d=[];for(b in a)c=a[b],d.push([b,c]);return d}),this.onRemove=new j,this.onChange=new j}return b.prototype.get=function(a){var b=this;return U.sub(function(c){return V.autoSub(b.onAdd,function(b){var d,e;return d=b[0],e=b[1],a===d?c.refresh():void 0})}),U.sub(function(c){return V.autoSub(b.onChange,function(b){var d,e,f;return e=b[0],d=b[1],f=b[2],a===e?c.refresh():void 0})}),U.sub(function(c){return V.autoSub(b.onRemove,function(b){var d,e;return e=b[0],d=b[1],a===e?c.refresh():void 0})}),this.x[a]},b.prototype.all=function(){var b=this;return U.sub(function(a){return V.autoSub(b.onAdd,function(){return a.refresh()})}),U.sub(function(a){return V.autoSub(b.onChange,function(){return a.refresh()})}),U.sub(function(a){return V.autoSub(b.onRemove,function(){return a.refresh()})}),a.clone(this.x)},b.prototype.realPut=function(a,b){var c;return a in this.x?(c=this.x[a],this.x[a]=b,this.onChange.pub([a,c,b]),c):(this.x[a]=b,void this.onAdd.pub([a,b]))},b.prototype.realRemove=function(a){var b;return b=P(this.x,a),this.onRemove.pub([a,b]),b},b.prototype.cell=function(a){return new t(this,a)},b}(),y=V.SrcMap=function(a){function b(){return ib=b.__super__.constructor.apply(this,arguments)}return d(b,a),b.prototype.put=function(a,b){var c=this;return U.mutating(function(){return c.realPut(a,b)})},b.prototype.remove=function(a){var b=this;return U.mutating(function(){return b.realRemove(a)})},b.prototype.cell=function(a){return new z(this,a)},b}(s),h=V.DepMap=function(a){function b(a){this.f=a,b.__super__.constructor.call(this),V.autoSub(new g(this.f).onSet,function(a){var b,c,d,e,f;c=a[0],e=a[1];for(b in c)d=c[b],b in e||this.realRemove(b);f=[];for(b in e)d=e[b],f.push(this.x[b]!==d?this.realPut(b,d):void 0);return f})}return d(b,a),b}(s),V.liftSpec=function(b){var c,d,e;return a.object(function(){var f,g,h,i;for(h=Object.getOwnPropertyNames(b),i=[],f=0,g=h.length;g>f;f++)c=h[f],e=b[c],null!=e&&(e instanceof V.ObsMap||e instanceof V.ObsCell||e instanceof V.ObsArray)||(d=a.isFunction(e)?null:a.isArray(e)?"array":"cell",i.push([c,{type:d,val:e}]));return i}())},V.lift=function(a,b){var c,d;null==b&&(b=V.liftSpec(a));for(c in b)d=b[c],a[c]=function(){switch(d.type){case"cell":return V.cell(a[c]);case"array":return V.array(a[c]);case"map":return V.map(a[c]);default:return a[c]}}();return a},V.unlift=function(b){var c,d;return a.object(function(){var a;a=[];for(c in b)d=b[c],a.push([c,d instanceof V.ObsCell?d.get():d instanceof V.ObsArray?d.all():d]);return a}())},V.reactify=function(c,d){var e,f,g,h;return a.isArray(c)?(e=V.array(a.clone(c)),Object.defineProperties(c,a.object(function(){var d,g,h,i;for(h=a.functions(e),i=[],d=0,g=h.length;g>d;d++)f=h[d],"length"!==f&&i.push(function(a){var d,f,g;return d=c[a],f=function(){var f,g,h;return f=1<=arguments.length?b.call(arguments,0):[],null!=d&&(g=d.call.apply(d,[c].concat(b.call(f)))),(h=e[a]).call.apply(h,[e].concat(b.call(f))),g},g={configurable:!0,enumerable:!1,value:f,writable:!0},[a,g]}(f));return i}())),c):Object.defineProperties(c,a.object(function(){var a;a=[];for(g in d)h=d[g],a.push(function(a,c){var d,e,f,g,h;switch(d=null,c.type){case"cell":e=V.cell(null!=(g=c.val)?g:null),d={configurable:!0,enumerable:!0,get:function(){return e.get()},set:function(a){return e.set(a)}};break;case"array":f=V.reactify(null!=(h=c.val)?h:[]),d={configurable:!0,enumerable:!0,get:function(){return f.raw(),f},set:function(a){return f.splice.apply(f,[0,f.length].concat(b.call(a))),f}};break;default:throw new Error("Unknown observable type: "+type)}return[a,d]}(g,h));return a}()))},V.autoReactify=function(b){var c,d,e;return V.reactify(b,a.object(function(){var f,g,h,i;for(h=Object.getOwnPropertyNames(b),i=[],f=0,g=h.length;g>f;f++)c=h[f],e=b[c],e instanceof s||e instanceof r||e instanceof q||(d=a.isFunction(e)?null:a.isArray(e)?"array":"cell",i.push([c,{type:d,val:e}]));return i}()))},a.extend(V,{cell:function(a){return new x(a)},array:function(a,b){return new w(a,b)},map:function(a){return new y(a)}}),V.flatten=function(b){return new f(function(){var c;return a(function(){var a,d,e;for(e=[],a=0,d=b.length;d>a;a++)c=b[a],e.push(c instanceof q?c.raw():c instanceof r?c.get():c);return e}()).chain().flatten(!0).filter(function(a){return null!=a}).value()})},G=function(b){var c;return c=a.flatten(b),V.cellToArray(B(function(){return a.flatten(b)}))},V.cellToArray=function(a,b){return new f(function(){return a.get()},b)},V.basicDiff=function(a){return null==a&&(a=V.smartUidify),function(b,c){var d,e,f,g,h,i,j;for(e=J(function(){var c,e,g;for(g=[],d=c=0,e=b.length;e>c;d=++c)f=b[d],g.push([a(f),d]);return g}()),j=[],g=0,h=c.length;h>g;g++)f=c[g],j.push(null!=(i=e[a(f)])?i:-1);return j}},V.uidify=function(a){var b;return null!=(b=a.__rxUid)?b:Object.defineProperty(a,"__rxUid",{enumerable:!1,value:L()}).__rxUid},V.smartUidify=function(b){return a.isObject(b)?V.uidify(b):JSON.stringify(b)},O=function(b,c,d){var e,f,g,h,i,j;if(h=function(){var a,b,c;for(c=[],a=0,b=d.length;b>a;a++)f=d[a],f>=0&&c.push(f);return c}(),a.some(function(){var a,b,c;for(c=[],f=a=0,b=h.length-1;b>=0?b>a:a>b;f=b>=0?++a:--a)c.push(h[f+1]-h[f]<=0);return c}()))return null;for(j=[],g=-1,f=0;f<d.length;){for(;f<d.length&&d[f]===g+1;)g+=1,f+=1;for(i={index:f,count:0,additions:[]};f<d.length&&-1===d[f];)i.additions.push(c[f]),f+=1;e=f===d.length?b:d[f],i.count=e-(g+1),(i.count>0||i.additions.length>0)&&j.push([i.index,i.count,i.additions]),g=e,f+=1}return j},V.transaction=function(a){return C.transaction(a)},null!=e){e.fn.rx=function(a){var b,c,d,e;return d=this.data("rx-map"),null==d&&this.data("rx-map",d=J()),a in d?d[a]:d[a]=function(){var d=this;switch(a){case"focused":return c=V.cell(this.is(":focus")),this.focus(function(){return c.set(!0)}),this.blur(function(){return c.set(!1)}),c;case"val":return e=V.cell(this.val()),this.change(function(){return e.set(d.val())}),this.on("input",function(){return e.set(d.val())}),e;case"checked":return b=V.cell(this.is(":checked")),this.change(function(){return b.set(d.is(":checked"))}),b;default:throw new Error("Unknown reactive property type")}}.call(this)},W={},u=W.RawHtml=function(){function a(a){this.html=a}return a}(),E=["blur","change","click","dblclick","error","focus","focusin","focusout","hover","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","ready","resize","scroll","select","submit","toggle","unload"],Z=W.specialAttrs={init:function(a,b){return b.call(a)}},bb=function(a){return Z[a]=function(b,c){return b[a](function(a){return c.call(b,a)})}};for(cb=0,db=E.length;db>cb;cb++)D=E[cb],bb(D);T=["async","autofocus","checked","location","multiple","readOnly","selected","selectedIndex","tagName","nodeName","nodeType","ownerDocument","defaultChecked","defaultSelected"],S=a.object(function(){var a,b,c;for(c=[],a=0,b=T.length;b>a;a++)R=T[a],c.push([R,null]);return c}()),Y=function(a,b,c){return"value"===b?a.val(c):b in S?a.prop(b,c):a.attr(b,c)},X=function(b,c,d,e){return null==e&&(e=a.identity),d instanceof r?V.autoSub(d.onSet,function(a){var d,f;return f=a[0],d=a[1],Y(b,c,e(d))}):Y(b,c,e(d))},W.mkAtts=I=function(a){return function(b){var c,d,e;return e=a.match(/[#](\w+)/),e&&(b.id=e[1]),c=a.match(/\.\w+/g),c&&(b["class"]=function(){var a,b,e;for(e=[],a=0,b=c.length;b>a;a++)d=c[a],e.push(d.replace(/^\./,""));return e}().join(" ")),b}({})},W.mktag=K=function(b){return function(c,d){var f,g,h,i,j,k,l,m,n,o;n=null==c&&null==d?[{},null]:c instanceof Object&&null!=d?[c,d]:a.isString(c)&&null!=d?[I(c),d]:null==d&&a.isString(c)||c instanceof Element||c instanceof u||c instanceof e||a.isArray(c)||c instanceof r||c instanceof q?[{},c]:[c,null],f=n[0],g=n[1],h=e("<"+b+"/>"),o=a.omit(f,a.keys(Z));for(j in o)m=o[j],X(h,j,m);null!=g&&(k=function(b){var c,d,f,g,h;for(h=[],f=0,g=b.length;g>f;f++)if(c=b[f],a.isString(c))h.push(document.createTextNode(c));else if(c instanceof Element)h.push(c);else if(c instanceof u){if(d=e(c.html),1!==d.length)throw new Error("RawHtml must wrap a single element");h.push(d[0])}else{if(!(c instanceof e))throw new Error("Unknown element type in array: "+c.constructor.name+" (must be string, Element, RawHtml, or jQuery objects)");if(1!==c.length)throw new Error("jQuery object must wrap a single element");h.push(c[0])}return h},l=function(b){var c;if(h.html(""),!a.isArray(b)){if(a.isString(b)||b instanceof Element||b instanceof u||b instanceof e)return l([b]);throw new Error("Unknown type for element contents: "+b.constructor.name+" (accepted types: string, Element, RawHtml, jQuery object of single element, or array of the aforementioned)")}c=k(b),h.append(c)},g instanceof q?V.autoSub(g.onChange,function(a){var b,c,d,e;return c=a[0],d=a[1],b=a[2],h.contents().slice(c,c+d.length).remove(),e=k(b),c===h.contents().length?h.append(e):h.contents().eq(c).before(e)}):g instanceof r?V.autoSub(g.onSet,function(a){var b,c;return b=a[0],c=a[1],l(c)}):l(g));for(i in f)i in Z&&Z[i](h,f[i],f,g);return h}},ab=["html","head","title","base","link","meta","style","script","noscript","body","body","section","nav","article","aside","h1","h2","h3","h4","h5","h6","h1","h6","header","footer","address","main","main","p","hr","pre","blockquote","ol","ul","li","dl","dt","dd","dd","figure","figcaption","div","a","em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","ruby","rt","rp","bdi","bdo","span","br","wbr","ins","del","img","iframe","embed","object","param","object","video","audio","source","video","audio","track","video","audio","canvas","map","area","area","map","svg","math","table","caption","colgroup","col","tbody","thead","tfoot","tr","td","th","form","fieldset","legend","fieldset","label","input","button","select","datalist","optgroup","option","select","datalist","textarea","keygen","output","progress","meter","details","summary","details","menuitem","menu"],W.tags=a.object(function(){var a,b,c;for(c=[],a=0,b=ab.length;b>a;a++)_=ab[a],c.push([_,W.mktag(_)]);return c}()),W.rawHtml=function(a){return new u(a)},W.importTags=function(b){return a(null!=b?b:jb).extend(W.tags)},W.cast=function(b,c){var d,e,f;return a.object(function(){var g;g=[];for(d in b)f=b[d],e=function(){switch(c[d]){case"array":if(f instanceof V.ObsArray)return f;if(a.isArray(f))return new V.DepArray(function(){return f});if(f instanceof V.ObsCell)return new V.DepArray(function(){return f.get()});throw new Error("Cannot cast to array: "+f.constructor.name);case"cell":return f instanceof V.ObsCell?f:B(function(){return f});default:return f}}(),g.push([d,e]);return g}())},W.cssify=function(b){var c,d;return function(){var e;e=[];for(c in b)d=b[c],null!=d&&e.push(""+a.str.dasherize(c)+": "+(a.isNumber(d)?d+"px":d)+";");return e}().join(" ")},Z.style=function(b,c){return X(b,"style",c,function(b){return a.isString(b)?b:W.cssify(b)})},W.smushClasses=function(b){return a(b).chain().flatten().compact().value().join(" ").replace(/\s+/," ").trim()},Z["class"]=function(b,c){return X(b,"class",c,function(b){return a.isString(b)?b:W.smushClasses(b)})}}return V.rxt=W,V},function(a,b,c){var d,e,f;if(null!=("undefined"!=typeof define&&null!==define?define.amd:void 0))return define(c,b);if(null!=("undefined"!=typeof module&&null!==module?module.exports:void 0))return e=require("underscore"),f=require("underscore.string"),d=b(e,f),module.exports=d;if(null!=a._&&null!=a.$)return a.rx=b(a._,void 0,a.$);throw"Dependencies are not met for reactive: _ and $ not found"}(this,a,["underscore","underscore.string","jquery"])}).call(this);