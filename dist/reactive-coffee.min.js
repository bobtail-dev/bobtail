(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,ab,bb,cb,db,eb,fb=[].slice,gb={}.hasOwnProperty,hb=function(a,b){function c(){this.constructor=a}for(var d in b)gb.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},ib=this;"undefined"==typeof exports?this.rx=P={}:P=exports,G=0,F=function(){return G+=1},J=function(a,b){var c;if(!(b in a))throw new Error("object has no key "+b);return c=a[b],delete a[b],c},H=function(a,b,c){var d,e,f,g;for(d=f=0,g=a.length;g>f;d=++f)if(e=a[d],c(e)&&(b-=1)<0)return[e,d];return[null,-1]},A=function(a,b){return H(a,0,b)},D=function(a){var b,c,d,e,f,g;if(null==a&&(a=[]),c=null!=Object.create?Object.create(null):{},_.isArray(a))for(e=0,f=a.length;f>e;e++)g=a[e],b=g[0],d=g[1],c[b]=d;else for(b in a)d=a[b],c[b]=d;return c},U=function(a){var b,c,d,e;for(b=0,d=0,e=a.length;e>d;d++)c=a[d],b+=c;return b},d=P.DepMgr=function(){function a(){this.uid2src={},this.buffering=!1,this.buffer=[]}return a.prototype.sub=function(a,b){return this.uid2src[a]=b},a.prototype.unsub=function(a){return J(this.uid2src,a)},a.prototype.transaction=function(a){var b,c,d,e,f;this.buffering=!0;try{c=a()}finally{for(f=this.buffer,d=0,e=f.length;e>d;d++)(b=f[d])();this.buffer=[],this.buffering=!1}return c},a}(),P._depMgr=x=new d,e=P.Ev=function(){function a(a){this.inits=a,this.subs=D()}return a.prototype.sub=function(a){var b,c,d,e,f;if(c=F(),null!=this.inits)for(f=this.inits(),d=0,e=f.length;e>d;d++)b=f[d],a(b);return this.subs[c]=a,x.sub(c,this),c},a.prototype.pub=function(a){var b,c,d,e,f=this;if(x.buffering)return x.buffer.push(function(){return f.pub(a)});d=this.subs,e=[];for(c in d)b=d[c],e.push(b(a));return e},a.prototype.unsub=function(a){return J(this.subs,a),x.unsub(a,this)},a.prototype.scoped=function(a,b){var c;c=this.sub(a);try{return b()}finally{this.unsub(c)}},a}(),P.skipFirst=function(a){var b;return b=!0,function(){var c;return c=1<=arguments.length?fb.call(arguments,0):[],b?b=!1:a.apply(null,c)}},q=P.Recorder=function(){function a(){this.stack=[],this.isMutating=!1,this.isIgnoring=!1,this.onMutationWarning=new e}return a.prototype.record=function(a,b){var c,d;this.stack.length>0&&!this.isMutating&&_(this.stack).last().addNestedBind(a),this.stack.push(a),d=this.isMutating,this.isMutating=!1,c=this.isIgnoring,this.isIgnoring=!1;try{return b()}finally{this.isIgnoring=c,this.isMutating=d,this.stack.pop()}},a.prototype.sub=function(a){var b,c;return this.stack.length>0&&!this.isIgnoring?(c=_(this.stack).last(),b=a(c)):void 0},a.prototype.addCleanup=function(a){return this.stack.length>0?_(this.stack).last().addCleanup(a):void 0},a.prototype.mutating=function(a){var b;this.stack.length>0&&(console.warn("Mutation to observable detected during a bind context"),this.onMutationWarning.pub(null)),b=this.isMutating,this.isMutating=!0;try{return a()}finally{this.isMutating=b}},a.prototype.ignoring=function(a){var b;b=this.isIgnoring,this.isIgnoring=!0;try{return a()}finally{this.isIgnoring=b}},a}(),P._recorder=O=new q,P.asyncBind=v=function(a,c){var d;return d=new b(c,a),d.refresh(),d},P.bind=w=function(a){return v(null,function(){return this.done(this.record(a))})},P.lagBind=C=function(a,b,c){var d;return d=null,v(b,function(){var b=this;return null!=d&&clearTimeout(d),d=setTimeout(function(){return b.done(b.record(c))},a)})},P.postLagBind=K=function(a,b){var c;return c=null,v(a,function(){var a,d,e,f=this;return e=this.record(b),d=e.val,a=e.ms,null!=c&&clearTimeout(c),c=setTimeout(function(){return f.done(d)},a)})},P.snap=function(a){return O.ignoring(a)},P.onDispose=function(a){return O.addCleanup(a)},P.autoSub=function(a,b){var c;return c=a.sub(b),P.onDispose(function(){return a.unsub(c)}),c},m=P.ObsCell=function(){function a(a){var b,c=this;this.x=a,this.x=null!=(b=this.x)?b:null,this.onSet=new e(function(){return[[null,c.x]]})}return a.prototype.get=function(){var a=this;return O.sub(function(b){return P.autoSub(a.onSet,function(){return b.refresh()})}),this.x},a}(),s=P.SrcCell=function(a){function b(){return ab=b.__super__.constructor.apply(this,arguments)}return hb(b,a),b.prototype.set=function(a){var b=this;return O.mutating(function(){var c;return b.x!==a?(c=b.x,b.x=a,b.onSet.pub([c,a]),c):void 0})},b}(m),b=P.DepCell=function(a){function b(a,c){this.body=a,b.__super__.constructor.call(this,null!=c?c:null),this.refreshing=!1,this.nestedBinds=[],this.cleanups=[]}return hb(b,a),b.prototype.refresh=function(){var a,b,c,d,e,f=this;return this.refreshing?void 0:(c=this.x,d=function(a){return f.x=a,f.onSet.pub([c,f.x])},e=null,b=!1,a={record:function(c){var g,h;if(!f.refreshing){if(f.disconnect(),g)throw new Error("this refresh has already recorded its dependencies");f.refreshing=!0,g=!0;try{h=O.record(f,function(){return c.call(a)})}finally{f.refreshing=!1}return b&&d(e),h}},done:function(a){return c!==a?f.refreshing?(b=!0,e=a):d(a):void 0}},this.body.call(a))},b.prototype.disconnect=function(){var a,b,c,d,e,f,g,h;for(g=this.cleanups,c=0,e=g.length;e>c;c++)(a=g[c])();for(h=this.nestedBinds,d=0,f=h.length;f>d;d++)b=h[d],b.disconnect();return this.nestedBinds=[],this.cleanups=[]},b.prototype.addNestedBind=function(a){return this.nestedBinds.push(a)},b.prototype.addCleanup=function(a){return this.cleanups.push(a)},b}(m),l=P.ObsArray=function(){function a(a,b){var c=this;this.xs=null!=a?a:[],this.diff=null!=b?b:P.basicDiff(),this.onChange=new e(function(){return[[0,[],c.xs]]}),this.indexed_=null}return a.prototype.all=function(){var a=this;return O.sub(function(b){return P.autoSub(a.onChange,function(){return b.refresh()})}),_.clone(this.xs)},a.prototype.raw=function(){var a=this;return O.sub(function(b){return P.autoSub(a.onChange,function(){return b.refresh()})}),this.xs},a.prototype.at=function(a){var b=this;return O.sub(function(c){return P.autoSub(b.onChange,function(b){var d,e,f;return e=b[0],f=b[1],d=b[2],e===a?c.refresh():void 0})}),this.xs[a]},a.prototype.length=function(){var a=this;return O.sub(function(b){return P.autoSub(a.onChange,function(a){var c,d,e;return d=a[0],e=a[1],c=a[2],e.length!==c.length?b.refresh():void 0})}),this.xs.length},a.prototype.map=function(a){var b;return b=new k,P.autoSub(this.onChange,function(c){var d,e,f;return e=c[0],f=c[1],d=c[2],b.realSplice(e,f.length,d.map(a))}),b},a.prototype.indexed=function(){var a=this;return null==this.indexed_&&(this.indexed_=new i,P.autoSub(this.onChange,function(b){var c,d,e;return d=b[0],e=b[1],c=b[2],a.indexed_.realSplice(d,e.length,c)})),this.indexed_},a.prototype.concat=function(a){return P.concat(this,a)},a.prototype.realSplice=function(a,b,c){var d;return d=this.xs.splice.apply(this.xs,[a,b].concat(c)),this.onChange.pub([a,d,c])},a.prototype._update=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(null==b&&(b=this.diff),g=this.xs,e=[0,g.length,a],j=null,i=null!=b?null!=(m=I(g.length,a,b(g,a)))?m:[e]:[e],n=[],k=0,l=i.length;l>k;k++)h=i[k],f=h[0],d=h[1],c=h[2],n.push(this.realSplice(f,d,c));return n},a}(),r=P.SrcArray=function(a){function b(){return bb=b.__super__.constructor.apply(this,arguments)}return hb(b,a),b.prototype.spliceArray=function(a,b,c){var d=this;return O.mutating(function(){return d.realSplice(a,b,c)})},b.prototype.splice=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?fb.call(arguments,2):[],this.spliceArray(c,b,a)},b.prototype.insert=function(a,b){return this.splice(b,0,a)},b.prototype.remove=function(a){var b;return b=_(this.raw()).indexOf(a),b>=0?this.removeAt(b):void 0},b.prototype.removeAt=function(a){return this.splice(a,1)},b.prototype.push=function(a){return this.splice(this.length(),0,a)},b.prototype.put=function(a,b){return this.splice(a,1,b)},b.prototype.replace=function(a){return this.spliceArray(0,this.length(),a)},b.prototype.update=function(a){var b=this;return O.mutating(function(){return b._update(a)})},b}(l),k=P.MappedDepArray=function(a){function b(){return cb=b.__super__.constructor.apply(this,arguments)}return hb(b,a),b}(l),i=P.IndexedDepArray=function(a){function b(a,c){var d,f,g=this;null==a&&(a=[]),b.__super__.constructor.call(this,a,c),this.is=function(){var a,b,c,e;for(c=this.xs,e=[],d=a=0,b=c.length;b>a;d=++a)f=c[d],e.push(P.cell(d));return e}.call(this),this.onChange=new e(function(){return[[0,[],_.zip(g.xs,g.is)]]})}return hb(b,a),b.prototype.map=function(a){var b;return b=new j,P.autoSub(this.onChange,function(c){var d,e,f,g,h;return g=c[0],h=c[1],e=c[2],b.realSplice(g,h.length,function(){var b,c,g,h;for(h=[],b=0,c=e.length;c>b;b++)g=e[b],d=g[0],f=g[1],h.push(a(d,f));return h}())}),b},b.prototype.realSplice=function(a,b,c){var d,e,f,g,h,i,j,k,l;for(g=(j=this.xs).splice.apply(j,[a,b].concat(fb.call(c))),k=this.is.slice(a+b),f=h=0,i=k.length;i>h;f=++h)d=k[f],d.set(a+c.length+f);return e=function(){var b,e,f;for(f=[],d=b=0,e=c.length;e>=0?e>b:b>e;d=e>=0?++b:--b)f.push(P.cell(a+d));return f}(),(l=this.is).splice.apply(l,[a,b].concat(fb.call(e))),this.onChange.pub([a,g,_.zip(c,e)])},b}(l),j=P.IndexedMappedDepArray=function(a){function b(){return db=b.__super__.constructor.apply(this,arguments)}return hb(b,a),b}(i),a=P.DepArray=function(a){function b(a,c){var d=this;this.f=a,b.__super__.constructor.call(this,[],c),P.autoSub(w(function(){return d.f()}).onSet,function(a){var b,c;return b=a[0],c=a[1],d._update(c)})}return hb(b,a),b}(l),h=P.IndexedArray=function(a){function b(a){this.xs=a}return hb(b,a),b.prototype.map=function(a){var b;return b=new k,P.autoSub(this.xs.onChange,function(c){var d,e,f;return e=c[0],f=c[1],d=c[2],b.realSplice(e,f.length,d.map(a))}),b},b}(a),P.concat=function(){var a,b,c,d;return c=1<=arguments.length?fb.call(arguments,0):[],d=new k,a=function(){var a,d,e;for(e=[],a=0,d=c.length;d>a;a++)b=c[a],e.push(0);return e}(),c.map(function(b,c){return P.autoSub(b.onChange,function(b){var e,f,g,h;return f=b[0],g=b[1],e=b[2],h=U(a.slice(0,c)),a[c]+=e.length-g.length,d.realSplice(h+f,g.length,e)})}),d},g=P.FakeSrcCell=function(a){function b(a,b){this._getter=a,this._setter=b}return hb(b,a),b.prototype.get=function(){return this._getter()},b.prototype.set=function(a){return this._setter(a)},b}(s),f=P.FakeObsCell=function(a){function b(a){this._getter=a}return hb(b,a),b.prototype.get=function(){return this._getter()},b}(m),u=P.MapEntryCell=function(a){function b(a,b){this._map=a,this._key=b}return hb(b,a),b.prototype.get=function(){return this._map.get(this._key)},b.prototype.set=function(a){return this._map.put(this._key,a)},b}(g),o=P.ObsMapEntryCell=function(a){function b(a,b){this._map=a,this._key=b}return hb(b,a),b.prototype.get=function(){return this._map.get(this._key)},b}(f),n=P.ObsMap=function(){function a(a){this.x=null!=a?a:{},this.onAdd=new e(function(){var b,c,d;d=[];for(b in a)c=a[b],d.push([b,c]);return d}),this.onRemove=new e,this.onChange=new e}return a.prototype.get=function(a){var b=this;return O.sub(function(c){return P.autoSub(b.onAdd,function(b){var d,e;return d=b[0],e=b[1],a===d?c.refresh():void 0})}),O.sub(function(c){return P.autoSub(b.onChange,function(b){var d,e,f;return e=b[0],d=b[1],f=b[2],a===e?c.refresh():void 0})}),O.sub(function(c){return P.autoSub(b.onRemove,function(b){var d,e;return e=b[0],d=b[1],a===e?c.refresh():void 0})}),this.x[a]},a.prototype.all=function(){var a=this;return O.sub(function(b){return P.autoSub(a.onAdd,function(){return b.refresh()})}),O.sub(function(b){return P.autoSub(a.onChange,function(){return b.refresh()})}),O.sub(function(b){return P.autoSub(a.onRemove,function(){return b.refresh()})}),_.clone(this.x)},a.prototype.realPut=function(a,b){var c;return a in this.x?(c=this.x[a],this.x[a]=b,this.onChange.pub([a,c,b]),c):(this.x[a]=b,void this.onAdd.pub([a,b]))},a.prototype.realRemove=function(a){var b;return b=J(this.x,a),this.onRemove.pub([a,b]),b},a.prototype.cell=function(a){return new o(this,a)},a}(),t=P.SrcMap=function(a){function b(){return eb=b.__super__.constructor.apply(this,arguments)}return hb(b,a),b.prototype.put=function(a,b){var c=this;return O.mutating(function(){return c.realPut(a,b)})},b.prototype.remove=function(a){var b=this;return O.mutating(function(){return b.realRemove(a)})},b.prototype.cell=function(a){return new u(this,a)},b}(n),c=P.DepMap=function(a){function c(a){this.f=a,c.__super__.constructor.call(this),P.autoSub(new b(this.f).onSet,function(a){var b,c,d,e,f;c=a[0],e=a[1];for(b in c)d=c[b],b in e||this.realRemove(b);f=[];for(b in e)d=e[b],f.push(this.x[b]!==d?this.realPut(b,d):void 0);return f})}return hb(c,a),c}(n),P.liftSpec=function(a){var b,c,d;return _.object(function(){var e,f,g,h;for(g=Object.getOwnPropertyNames(a),h=[],e=0,f=g.length;f>e;e++)b=g[e],d=a[b],null!=d&&(d instanceof P.ObsMap||d instanceof P.ObsCell||d instanceof P.ObsArray)||(c=_.isFunction(d)?null:_.isArray(d)?"array":"cell",h.push([b,{type:c,val:d}]));return h}())},P.lift=function(a,b){var c,d;null==b&&(b=P.liftSpec(a));for(c in b)d=b[c],a[c]=function(){switch(d.type){case"cell":return P.cell(a[c]);case"array":return P.array(a[c]);case"map":return P.map(a[c]);default:return a[c]}}();return a},P.unlift=function(a){var b,c;return _.object(function(){var d;d=[];for(b in a)c=a[b],d.push([b,c instanceof P.ObsCell?c.get():c instanceof P.ObsArray?c.all():c]);return d}())},P.reactify=function(a,b){var c,d,e,f;return _.isArray(a)?(c=P.array(_.clone(a)),Object.defineProperties(a,_.object(function(){var b,e,f,g;for(f=_.functions(c),g=[],b=0,e=f.length;e>b;b++)d=f[b],"length"!==d&&g.push(function(b){var d,e,f;return d=a[b],e=function(){var e,f,g;return e=1<=arguments.length?fb.call(arguments,0):[],null!=d&&(f=d.call.apply(d,[a].concat(fb.call(e)))),(g=c[b]).call.apply(g,[c].concat(fb.call(e))),f},f={configurable:!0,enumerable:!1,value:e,writable:!0},[b,f]}(d));return g}())),a):Object.defineProperties(a,_.object(function(){var a;a=[];for(e in b)f=b[e],a.push(function(a,b){var c,d,e,f,g;switch(c=null,b.type){case"cell":d=P.cell(null!=(f=b.val)?f:null),c={configurable:!0,enumerable:!0,get:function(){return d.get()},set:function(a){return d.set(a)}};break;case"array":e=P.reactify(null!=(g=b.val)?g:[]),c={configurable:!0,enumerable:!0,get:function(){return e.raw(),e},set:function(a){return e.splice.apply(e,[0,e.length].concat(fb.call(a))),e}};break;default:throw new Error("Unknown observable type: "+type)}return[a,c]}(e,f));return a}()))},P.autoReactify=function(a){var b,c,d;return P.reactify(a,_.object(function(){var e,f,g,h;for(g=Object.getOwnPropertyNames(a),h=[],e=0,f=g.length;f>e;e++)b=g[e],d=a[b],d instanceof n||d instanceof m||d instanceof l||(c=_.isFunction(d)?null:_.isArray(d)?"array":"cell",h.push([b,{type:c,val:d}]));return h}()))},_.extend(P,{cell:function(a){return new s(a)},array:function(a,b){return new r(a,b)},map:function(a){return new t(a)}}),P.flatten=function(b){return new a(function(){var a;return _(function(){var c,d,e;for(e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(a instanceof l?a.raw():a instanceof m?a.get():a);return e}()).chain().flatten(!0).filter(function(a){return null!=a}).value()})},B=function(a){var b;return b=_.flatten(a),P.cellToArray(w(function(){return _.flatten(a)}))},P.cellToArray=function(b,c){return new a(function(){return b.get()},c)},P.basicDiff=function(a){return null==a&&(a=P.smartUidify),function(b,c){var d,e,f,g,h,i,j;for(e=D(function(){var c,e,g;for(g=[],d=c=0,e=b.length;e>c;d=++c)f=b[d],g.push([a(f),d]);return g}()),j=[],g=0,h=c.length;h>g;g++)f=c[g],j.push(null!=(i=e[a(f)])?i:-1);return j}},P.uidify=function(a){var b;return null!=(b=a.__rxUid)?b:Object.defineProperty(a,"__rxUid",{enumerable:!1,value:F()}).__rxUid},P.smartUidify=function(a){return _.isObject(a)?P.uidify(a):JSON.stringify(a)},I=function(a,b,c){var d,e,f,g,h,i;if(g=function(){var a,b,d;for(d=[],a=0,b=c.length;b>a;a++)e=c[a],e>=0&&d.push(e);return d}(),_.some(function(){var a,b,c;for(c=[],e=a=0,b=g.length-1;b>=0?b>a:a>b;e=b>=0?++a:--a)c.push(g[e+1]-g[e]<=0);return c}()))return null;for(i=[],f=-1,e=0;e<c.length;){for(;e<c.length&&c[e]===f+1;)f+=1,e+=1;for(h={index:e,count:0,additions:[]};e<c.length&&-1===c[e];)h.additions.push(b[e]),e+=1;d=e===c.length?a:c[e],h.count=d-(f+1),(h.count>0||h.additions.length>0)&&i.push([h.index,h.count,h.additions]),f=d,e+=1}return i},P.transaction=function(a){return x.transaction(a)},$.fn.rx=function(a){var b,c,d,e;return d=this.data("rx-map"),null==d&&this.data("rx-map",d=D()),a in d?d[a]:d[a]=function(){var d=this;switch(a){case"focused":return c=P.cell(this.is(":focus")),this.focus(function(){return c.set(!0)}),this.blur(function(){return c.set(!1)}),c;case"val":return e=P.cell(this.val()),this.change(function(){return e.set(d.val())}),this.on("input",function(){return e.set(d.val())}),e;case"checked":return b=P.cell(this.is(":checked")),this.change(function(){return b.set(d.is(":checked"))}),b;default:throw new Error("Unknown reactive property type")}}.call(this)},"undefined"==typeof exports?this.rxt=Q={}:Q=exports,p=Q.RawHtml=function(){function a(a){this.html=a}return a}(),z=["blur","change","click","dblclick","error","focus","focusin","focusout","hover","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","ready","resize","scroll","select","submit","toggle","unload"],T=Q.specialAttrs={init:function(a,b){return b.call(a)}},X=function(a){return T[a]=function(b,c){return b[a](function(a){return c.call(b,a)})}};for(Y=0,Z=z.length;Z>Y;Y++)y=z[Y],X(y);N=["async","autofocus","checked","location","multiple","readOnly","selected","selectedIndex","tagName","nodeName","nodeType","ownerDocument","defaultChecked","defaultSelected"],M=_.object(function(){var a,b,c;for(c=[],a=0,b=N.length;b>a;a++)L=N[a],c.push([L,null]);return c}()),S=function(a,b,c){return"value"===b?a.val(c):b in M?a.prop(b,c):a.attr(b,c)},R=function(a,b,c,d){return null==d&&(d=_.identity),c instanceof m?P.autoSub(c.onSet,function(c){var e,f;return f=c[0],e=c[1],S(a,b,d(e))}):S(a,b,d(c))},Q.mktag=E=function(a){return function(b,c){var d,e,f,g,h,i,j,k,n,o;n=null==b&&null==c?[{},null]:null!=c?[b,c]:_.isString(b)||b instanceof Element||b instanceof p||b instanceof $||_.isArray(b)||b instanceof m||b instanceof l?[{},b]:[b,null],d=n[0],e=n[1],f=$("<"+a+"/>"),o=_.omit(d,_.keys(T));for(h in o)k=o[h],R(f,h,k);null!=e&&(i=function(a){var b,c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)if(b=a[d],_.isString(b))f.push(document.createTextNode(b));else if(b instanceof Element)f.push(b);else if(b instanceof p){if(c=$(b.html),1!==c.length)throw new Error("RawHtml must wrap a single element");f.push(c[0])}else{if(!(b instanceof $))throw new Error("Unknown element type in array: "+b.constructor.name+" (must be string, Element, RawHtml, or jQuery objects)");if(1!==b.length)throw new Error("jQuery object must wrap a single element");f.push(b[0])}return f},j=function(a){var b;if(f.html(""),!_.isArray(a)){if(_.isString(a)||a instanceof Element||a instanceof p||a instanceof $)return j([a]);throw new Error("Unknown type for element contents: "+a.constructor.name+" (accepted types: string, Element, RawHtml, jQuery object of single element, or array of the aforementioned)")}b=i(a),f.append(b)},e instanceof l?P.autoSub(e.onChange,function(a){var b,c,d,e;return c=a[0],d=a[1],b=a[2],f.contents().slice(c,c+d.length).remove(),e=i(b),c===f.contents().length?f.append(e):f.contents().eq(c).before(e)}):e instanceof m?P.autoSub(e.onSet,function(a){var b,c;return b=a[0],c=a[1],j(c)}):j(e));for(g in d)g in T&&T[g](f,d[g],d,e);return f}},W=["html","head","title","base","link","meta","style","script","noscript","body","body","section","nav","article","aside","h1","h2","h3","h4","h5","h6","h1","h6","header","footer","address","main","main","p","hr","pre","blockquote","ol","ul","li","dl","dt","dd","dd","figure","figcaption","div","a","em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","ruby","rt","rp","bdi","bdo","span","br","wbr","ins","del","img","iframe","embed","object","param","object","video","audio","source","video","audio","track","video","audio","canvas","map","area","area","map","svg","math","table","caption","colgroup","col","tbody","thead","tfoot","tr","td","th","form","fieldset","legend","fieldset","label","input","button","select","datalist","optgroup","option","select","datalist","textarea","keygen","output","progress","meter","details","summary","details","menuitem","menu"],Q.tags=_.object(function(){var a,b,c;for(c=[],a=0,b=W.length;b>a;a++)V=W[a],c.push([V,Q.mktag(V)]);return c}()),Q.rawHtml=function(a){return new p(a)},Q.importTags=function(a){return _(null!=a?a:ib).extend(Q.tags)},Q.cast=function(a,b){var c,d,e;return _.object(function(){var f;f=[];for(c in a)e=a[c],d=function(){switch(b[c]){case"array":if(e instanceof P.ObsArray)return e;if(_.isArray(e))return new P.DepArray(function(){return e});if(e instanceof P.ObsCell)return new P.DepArray(function(){return e.get()});throw new Error("Cannot cast to array: "+e.constructor.name);case"cell":return e instanceof P.ObsCell?e:w(function(){return e});default:return e}}(),f.push([c,d]);return f}())},Q.cssify=function(a){var b,c;return function(){var d;d=[];for(b in a)c=a[b],null!=c&&d.push(""+_.str.dasherize(b)+": "+(_.isNumber(c)?c+"px":c)+";");return d}().join(" ")},T.style=function(a,b){return R(a,"style",b,function(a){return _.isString(a)?a:Q.cssify(a)})},Q.smushClasses=function(a){return _(a).chain().flatten().compact().value().join(" ").replace(/\s+/," ").trim()},T["class"]=function(a,b){return R(a,"class",b,function(a){return _.isString(a)?a:Q.smushClasses(a)})}}).call(this);